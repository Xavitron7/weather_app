(()=>{"use strict";const e=function(e){if("404"===e.cod)document.querySelector("#error-div").classList.remove("hidden"),setTimeout((()=>{document.querySelector("#error-div").classList.add("hidden")}),5e3);else{const t=document.querySelector("img"),o=document.querySelector("#city"),n=document.querySelector("#desc-text"),c=document.querySelector("#temp-text"),u=document.querySelector("#feel-text"),s=document.querySelector("#max-text"),d=document.querySelector("#min-text"),r=document.querySelector("#humid-text");t.setAttribute("src",`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`),o.textContent=`${e.name}, ${e.sys.country}`,n.textContent=e.weather[0].description,c.innerHTML=`<span class="temp-cat">Temperature: </span>${e.main.temp}</p>`,u.innerHTML=`<span class="temp-cat">Feels like: </span>${e.main.feels_like}</p>`,s.innerHTML=`<span class="temp-cat">Max temperature: </span>${e.main.temp_max}</p>`,d.innerHTML=`<span class="temp-cat">Min temperature: </span>${e.main.temp_min}</p>`,r.innerHTML=`<span class="temp-cat">Humidity: </span>${e.main.humidity}%</p>`}},t="15ee7b1b8b63ce1967cb70787d8de6e7",o=document.querySelector("#form"),n=document.querySelector("#unit-button");o.addEventListener("submit",(function(o){o.preventDefault();const n=document.querySelector("#search");(async function(o){const n=document.querySelector("#unit-button");if(n.classList.contains("um-c"))try{const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${o}&appid=${t}&units=metric`,{mode:"cors"}),c=await n.json();e(c)}catch(e){console.log(e)}else if(n.classList.contains("um-f"))try{const n=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${o}&appid=${t}&units=imperial`,{mode:"cors"}),c=await n.json();e(c)}catch(e){console.log(e)}})(n.value),n.value=""})),n.addEventListener("click",(function(e){console.log(e.target);const t=document.querySelector("#unit-button");if(t.classList.contains("um-c")){const e=document.querySelector("#temp-text");if(console.log(e.childNodes),void 0===e.childNodes[1]){const e=document.querySelector("#unit-button"),t=document.querySelector("#unit-div");if(e.classList.contains("um-c")){const e=document.querySelector("#unit-button");e.classList.remove("um-c"),e.classList.add("um-f"),e.innerHTML="F",e.style.backgroundColor="orange",t.style.justifyContent="flex-end"}}else{const e=document.querySelector("#unit-div"),t=document.querySelector("#temp-text"),o=document.querySelector("#feel-text"),n=document.querySelector("#max-text"),c=document.querySelector("#min-text"),u=1.8*Number(t.childNodes[1].nodeValue)+32,s=1.8*Number(o.childNodes[1].nodeValue)+32,d=1.8*Number(n.childNodes[1].nodeValue)+32,r=1.8*Number(c.childNodes[1].nodeValue)+32;t.childNodes[1].nodeValue=u.toFixed(2),o.childNodes[1].nodeValue=s.toFixed(2),n.childNodes[1].nodeValue=d.toFixed(2),c.childNodes[1].nodeValue=r.toFixed(2);const i=document.querySelector("#unit-button");i.classList.remove("um-c"),i.classList.add("um-f"),i.innerHTML="F",i.style.backgroundColor="orange",e.style.justifyContent="flex-end",console.log(t.childNodes[1].nodeValue)}}else if(t.classList.contains("um-f"))if(void 0===document.querySelector("#temp-text").childNodes[1]){if(t.classList.contains("um-f")){const e=document.querySelector("#unit-button"),t=document.querySelector("#unit-div");e.classList.remove("um-f"),e.classList.add("um-c"),e.innerHTML="C",e.style.backgroundColor="var(--button)",t.style.justifyContent="flex-start"}}else{const e=document.querySelector("#unit-div"),t=document.querySelector("#temp-text"),o=document.querySelector("#feel-text"),n=document.querySelector("#max-text"),c=document.querySelector("#min-text"),u=5*(Number(t.childNodes[1].nodeValue)-32)/9,s=5*(Number(o.childNodes[1].nodeValue)-32)/9,d=5*(Number(n.childNodes[1].nodeValue)-32)/9,r=5*(Number(c.childNodes[1].nodeValue)-32)/9;t.childNodes[1].nodeValue=u.toFixed(2),o.childNodes[1].nodeValue=s.toFixed(2),n.childNodes[1].nodeValue=d.toFixed(2),c.childNodes[1].nodeValue=r.toFixed(2);const i=document.querySelector("#unit-button");i.classList.remove("um-f"),i.classList.add("um-c"),i.innerHTML="C",i.style.backgroundColor="var(--button)",e.style.justifyContent="flex-start",console.log(t.childNodes[1].nodeValue)}}))})();